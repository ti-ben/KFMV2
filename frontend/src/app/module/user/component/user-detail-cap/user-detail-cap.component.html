<!-- ADD a new session

  <form action="" *ngIf="formGroup">
    <div class="flex-row">
      <div class="flex-cell">
        <app-input-date [label]="{label:'form.user.label.sess_start'}"
                        [placeholder]="'form.user.placeholder.sess_start'"
                        [ctrl]="getControl('')"></app-input-date>
      </div>
      <div class="flex-cell">
        <app-input-date [label]="{label:'form.user.label.sess_end'}"
                        [placeholder]="'form.user.placeholder.sess_end'"
                        [ctrl]="getControl('')"></app-input-date>
      </div>
    </div>
    <div class="btn-area">
      <button (click)="save()">Enregistrer la nouvelle session</button>
    </div>
  </form>

  <form action="" *ngIf="formGroup">
    <hr>
    <b>Certificat d'aptitude professionnel du 03/03/2022 au 03/03/2022</b>
    <div class="flex-row">
      <div class="flex-cell">
        <app-input-date [label]="{label:'form.user.label.app_start'}"
        [placeholder]="'form.user.placeholder.app_start'"
        [ctrl]="getControl('')"></app-input-date>
      </div>
      <div class="flex-cell">
        <app-input-date [label]="{label:'form.user.label.app_end'}"
                        [placeholder]="'form.user.placeholder.app_end'"
                        [ctrl]="getControl('')"></app-input-date>
      </div>
      <div class="flex-cell">
        <app-input-text [label]="{label:'form.user.label.tdeme'}"
                        [placeholder]="'form.user.placeholder.tdeme'"
                        [ctrl]="getControl('')"></app-input-text>
      </div>
      <div class="flex-cell">
        <app-input-text [label]="{label:'form.user.label.price'}"
                        [placeholder]="'form.user.placeholder.price'"
                        [ctrl]="getControl('')"></app-input-text>
      </div>
    </div>
    <div class="flex-row">
      <div class="flex-cell">
        <app-textarea [label]="{label:'form.user.label.comment'}"
                      [placeholder]="'form.user.placeholder.comment'"
                      [ctrl]="getControl('')"></app-textarea>
      </div>
    </div>
    <div class="btn-area">
      <button (click)="save()">Enregistrer la nouvelle session</button>
    </div>
  </form>
<div class="row g-1 d-grid gap-3">
  <table class="table">
    <tdead>
    <tr>
      <td>Date début</td>
      <td>Date fin</td>
      <td>tdème</td>
      <td>Commentaire</td>
      <td>Options</td>
    </tr>
    </tdead>
    <tbody>
    <tr class="table-success">
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>
        <button class="btn float-left btn-sm btn-warning"><i class="fa fa-edit"></i></button>&nbsp;
        <button class="btn float-end btn-sm btn-danger"><i class="fa fa-trash"></i></button>
      </td>
    </tr>
    </tbody>
  </table>
</div>

-->

<form [formGroup]="periodGroup">
  pour ajouter une nouvelle période
  <div class="flex-row">
    <div class="flex-cell">
      <input type="date"/>
    </div>
    <div class="flex-cell">
      <input type="date"/>
    </div>
    <div class="btn-area">
      <button (click)="addPeriod()">add</button>
    </div>
  </div>
</form>
<app-grade-list></app-grade-list>
<!-- @todo récupérer la liste des périodes et utiliser un ngfor dans le div ci-dessous -->
<ng-container *ngIf="periodList$ | async as plist">

    <div *ngFor="let period of plist">
      <div>Période - date de début et date de fin</div>
      <table class="custom-table">
        <tr>
          <td>Date début</td>
          <td>Date fin</td>
          <td>Thème</td>
          <td>Commentaire</td>
          <td>Action</td>
        </tr>
        <ng-container *ngIf="appointmentList$ | async as aplist">

            <!-- @todo mettre un ngfor pour chaque rdv -->
            <tr *ngFor="let appoinment of aplist">
              <td><input type="date" value="DB DATA"/></td>
              <td><input type="date" value="DB DATA"/></td>
              <td><input type="text" value="DB DATA"/></td>
              <td><input type="text" value="DB DATA"/></td>
              <td>
                <button class="btn btn-danger" (click)="deleteSession()">Delete</button>
              </td>
            </tr>

        </ng-container>
        <!-- fin ngFor-->
        <tr>
          <td><input type="date" placeholder="Date de début"/></td>
          <td><input type="date" placeholder="Date de fin"/></td>
          <td><input type="text" placeholder="Thème"/></td>
          <td><input type="text" placeholder="Commentaire"/></td>
          <td>
            <button class="btn btn-success" (click)="addAppointment()">Add</button>
          </td>
        </tr>
      </table>
    </div>
  </ng-container>

